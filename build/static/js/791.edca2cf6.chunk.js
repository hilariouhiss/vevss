"use strict";(self.webpackChunkqyapppp=self.webpackChunkqyapppp||[]).push([[791],{29791:(e,t,n)=>{n.r(t),n.d(t,{default:()=>N});var r=n(72791),a=n(31243),s=n(16661),i=n(1413),o=n(45987),c=n(969),l=n(81694),d=n.n(l),u=n(13267),h=n(4942),p=n(63530),m=function(e){var t;return t={},(0,h.Z)(t,e.componentCls,{"&-container":{display:"flex",flex:"1",flexDirection:"column",height:"100%",paddingInline:32,paddingBlock:24,overflow:"auto",background:"inherit"},"&-top":{textAlign:"center"},"&-header":{display:"flex",alignItems:"center",justifyContent:"center",height:"44px",lineHeight:"44px",a:{textDecoration:"none"}},"&-title":{position:"relative",insetBlockStart:"2px",color:"@heading-color",fontWeight:"600",fontSize:"33px"},"&-logo":{width:"44px",height:"44px",marginInlineEnd:"16px",verticalAlign:"top",img:{width:"100%"}},"&-desc":{marginBlockStart:"12px",marginBlockEnd:"40px",color:e.colorTextSecondary,fontSize:e.fontSize},"&-main":{minWidth:"328px",maxWidth:"580px",margin:"0 auto","&-other":{marginBlockStart:"24px",lineHeight:"22px",textAlign:"start"}}}),(0,h.Z)(t,"@media (min-width: @screen-md-min)",(0,h.Z)({},"".concat(e.componentCls,"-container"),{paddingInline:0,paddingBlockStart:32,paddingBlockEnd:24,backgroundRepeat:"no-repeat",backgroundPosition:"center 110px",backgroundSize:"100%"})),t};var x=n(80184),f=["logo","message","contentStyle","title","subTitle","actions","children"];function g(e){var t,n,a=e.logo,l=e.message,h=e.contentStyle,g=e.title,v=e.subTitle,Z=e.actions,j=e.children,y=(0,o.Z)(e,f),b=(0,s.YB)(),w=!1!==y.submitter&&(0,i.Z)((0,i.Z)({searchConfig:{submitText:b.getMessage("loginForm.submitText","\u767b\u5f55")}},y.submitter),{},{submitButtonProps:(0,i.Z)({size:"large",style:{width:"100%"}},null===(t=y.submitter)||void 0===t?void 0:t.submitButtonProps),render:function(e,t){var n,r,a,s=t.pop();return"function"===typeof(null===y||void 0===y||null===(n=y.submitter)||void 0===n?void 0:n.render)?null===y||void 0===y||null===(r=y.submitter)||void 0===r||null===(a=r.render)||void 0===a?void 0:a.call(r,e,t):s}}),k=(0,r.useContext)(c.ZP.ConfigContext).getPrefixCls("pro-form-login"),P=(n=k,(0,p.Xj)("LoginForm",(function(e){var t=(0,i.Z)((0,i.Z)({},e),{},{componentCls:".".concat(n)});return[m(t)]}))),S=P.wrapSSR,C=P.hashId,N=function(e){return"".concat(k,"-").concat(e," ").concat(C)},z=(0,r.useMemo)((function(){return a?"string"===typeof a?(0,x.jsx)("img",{src:a}):a:null}),[a]);return S((0,x.jsxs)("div",{className:d()(N("container"),C),children:[(0,x.jsxs)("div",{className:"".concat(N("top")," ").concat(C).trim(),children:[g||z?(0,x.jsxs)("div",{className:"".concat(N("header")),children:[z?(0,x.jsx)("span",{className:N("logo"),children:z}):null,g?(0,x.jsx)("span",{className:N("title"),children:g}):null]}):null,v?(0,x.jsx)("div",{className:N("desc"),children:v}):null]}),(0,x.jsxs)("div",{className:N("main"),style:(0,i.Z)({width:328},h),children:[(0,x.jsxs)(u.A,(0,i.Z)((0,i.Z)({isKeyPressSubmit:!0},y),{},{submitter:w,children:[l,j]})),Z?(0,x.jsx)("div",{className:N("main-other"),children:Z}):null]})]}))}var v=n(68020),Z=n(67553),j=n(29529),y=n(38999),b=n(7123),w=n(64880),k=n(57960),P=n(87309),S=n(30368),C=n(92261);const N=(0,w.EN)((function(e){const[t,n]=(0,r.useState)("account"),i={"Content-Type":"application/x-www-form-urlencoded"};return(0,x.jsxs)("div",{style:{backgroundColor:"#f2f4f3"},children:[(0,x.jsxs)("div",{className:"Login-content",children:[(0,x.jsx)("div",{className:"Login-content-left"}),(0,x.jsxs)("div",{className:"Login-content-right",children:[(0,x.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:(0,x.jsx)(P.ZP,{type:"text",style:{fontSize:"16px",width:64,height:64},onClick:()=>{e.history.push("/home")},children:"\u9996\u9875"})}),(0,x.jsx)(c.ZP,{theme:{token:{colorPrimary:"rgb(255, 144, 16)"}},children:(0,x.jsx)(s._Y,{hashed:!1,children:(0,x.jsx)("div",{style:{backgroundColor:"white"},children:(0,x.jsxs)(g,{title:"\u7ba1\u7406\u5458\u767b\u5f55",onFinish:t=>{console.log("\u7528\u6237\u8f93\u5165\u7684\u503c\uff1a",t),async function(t){const n=new URLSearchParams;n.append("username",t.username),n.append("password",t.password);try{const t=await a.Z.post("http://47.237.100.43:8080/login",n,{headers:i});console.log("ddddddddddddddddddddd"+t),"ROLE_SYSTEM"===t.data.data.authorities[0].authority?(localStorage.setItem("authorizationToken",t.headers.get("authorization")),sessionStorage.setItem("token2",JSON.stringify(t.data)),e.history.push("/loginsuccess"),window.open("#/administrator/home","_blank"),k.ZP.success("\u767b\u5f55\u6210\u529f")):k.ZP.error("\u6ca1\u6709\u6743\u9650"),k.ZP.success("\u767b\u5f55\u6210\u529f")}catch(r){k.ZP.error("\u7528\u6237\u540d\u6216\u5bc6\u7801\u4e0d\u5339\u914d"),console.log(r)}}(t)},children:[(0,x.jsxs)(S.Z,{centered:!0,activeKey:t,onChange:e=>n(e),children:[(0,x.jsx)(S.Z.TabPane,{tab:"\u8d26\u53f7\u5bc6\u7801\u767b\u5f55"},"account"),(0,x.jsx)(S.Z.TabPane,{tab:"\u624b\u673a\u53f7\u767b\u5f55"},"phone")]}),"account"===t&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(v.Z,{name:"username",fieldProps:{size:"large",prefix:(0,x.jsx)(j.Z,{className:"prefixIcon"})},placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u540d",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]}),(0,x.jsx)(v.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,x.jsx)(y.Z,{className:"prefixIcon"})},placeholder:"\u8bf7\u8f93\u5165\u5bc6\u7801",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"}]})]}),"phone"===t&&(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(v.Z,{fieldProps:{size:"large",prefix:(0,x.jsx)(b.Z,{className:"prefixIcon"})},name:"mobile",placeholder:"\u624b\u673a\u53f7",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"},{pattern:/^1\d{10}$/,message:"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef\uff01"}]}),(0,x.jsx)(Z.Z,{fieldProps:{size:"large",prefix:(0,x.jsx)(y.Z,{className:"prefixIcon"})},captchaProps:{size:"large"},placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",captchaTextRender:(e,t)=>e?"".concat(t," ","\u83b7\u53d6\u9a8c\u8bc1\u7801"):"\u83b7\u53d6\u9a8c\u8bc1\u7801",name:"captcha",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\uff01"}],onGetCaptcha:async()=>{k.ZP.success("\u83b7\u53d6\u9a8c\u8bc1\u7801\u6210\u529f\uff01\u9a8c\u8bc1\u7801\u4e3a\uff1a1234")}})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("a",{style:{float:"left"},onClick:()=>{e.history.push("/register/registerselect")},className:"myorange",children:"\u7533\u8bf7\u8d26\u53f7"}),(0,x.jsx)("a",{style:{float:"right"},onClick:()=>{e.history.push("/forget")},className:"myorange",children:"\u5fd8\u8bb0\u5bc6\u7801"})]})]})})})})]})]}),(0,x.jsx)(C.Z,{})]})}))},38999:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(87462),a=n(72791);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};var i=n(54291),o=function(e,t){return a.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:s}))};const c=a.forwardRef(o)},7123:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(87462),a=n(72791);const s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"};var i=n(54291),o=function(e,t){return a.createElement(i.Z,(0,r.Z)({},e,{ref:t,icon:s}))};const c=a.forwardRef(o)},67553:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(1413),a=n(74165),s=n(15861),i=n(45987),o=n(29439),c=n(67987),l=n(86005),d=n(87309),u=n(72791),h=n(36168),p=n(80184),m=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"],x=u.forwardRef((function(e,t){var n=c.Z.useFormInstance(),h=(0,u.useState)(e.countDown||60),x=(0,o.Z)(h,2),f=x[0],g=x[1],v=(0,u.useState)(!1),Z=(0,o.Z)(v,2),j=Z[0],y=Z[1],b=(0,u.useState)(),w=(0,o.Z)(b,2),k=w[0],P=w[1],S=(e.rules,e.name,e.phoneName),C=e.fieldProps,N=e.captchaTextRender,z=void 0===N?function(e,t){return e?"".concat(t," \u79d2\u540e\u91cd\u65b0\u83b7\u53d6"):"\u83b7\u53d6\u9a8c\u8bc1\u7801"}:N,I=e.captchaProps,T=(0,i.Z)(e,m),B=function(){var e=(0,s.Z)((0,a.Z)().mark((function e(t){return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,P(!0),e.next=4,T.onGetCaptcha(t);case 4:P(!1),y(!0),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),y(!1),P(!1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,u.useImperativeHandle)(t,(function(){return{startTiming:function(){return y(!0)},endTiming:function(){return y(!1)}}})),(0,u.useEffect)((function(){var t=0,n=e.countDown;return j&&(t=window.setInterval((function(){g((function(e){return e<=1?(y(!1),clearInterval(t),n||60):e-1}))}),1e3)),function(){return clearInterval(t)}}),[j]),(0,p.jsxs)("div",{style:(0,r.Z)((0,r.Z)({},null===C||void 0===C?void 0:C.style),{},{display:"flex",alignItems:"center"}),ref:t,children:[(0,p.jsx)(l.Z,(0,r.Z)((0,r.Z)({},C),{},{style:{flex:1,transition:"width .3s",marginRight:8}})),(0,p.jsx)(d.ZP,(0,r.Z)((0,r.Z)({style:{display:"block"},disabled:j,loading:k},I),{},{onClick:(0,s.Z)((0,a.Z)().mark((function e(){var t;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!S){e.next=9;break}return e.next=4,n.validateFields([S].flat(1));case 4:return t=n.getFieldValue([S].flat(1)),e.next=7,B(t);case 7:e.next=11;break;case 9:return e.next=11,B("");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),children:z(j,f)}))]})}));const f=(0,h.G)(x)}}]);
//# sourceMappingURL=791.edca2cf6.chunk.js.map